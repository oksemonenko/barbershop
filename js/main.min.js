"use strict";!function(){function i(){b.classList.add("modal-overlay-show"),c.classList.add("modal-content-show")}function j(){c.classList.remove("modal-content-show"),b.classList.remove("modal-overlay-show"),l()}function k(){c.classList.add("modal-error")}function l(){c.classList.remove("modal-error")}function p(){b.classList.add("modal-overlay-show"),n.classList.add("modal-content-show")}function q(){b.classList.remove("modal-overlay-show"),n.classList.remove("modal-content-show")}var a=document.querySelector(".login"),b=document.querySelector(".modal-overlay"),c=document.querySelector(".modal-content"),d=c.querySelector(".modal-content-close"),e=c.querySelector("form"),f=c.querySelector("[name=login]"),g=c.querySelector("[name=password]"),h=localStorage.getItem("login");a.addEventListener("click",function(a){a.preventDefault(),i(),h?(f.value=h,g.focus()):f.focus()}),d.addEventListener("click",function(a){a.preventDefault(),j()}),e.addEventListener("submit",function(a){f.value&&g.value?localStorage.setItem("login",f.value):(a.preventDefault(),k())}),window.addEventListener("keydown",function(a){27===a.keyCode&&c.classList.contains("modal-content-show")&&j()});var m=document.querySelector(".js-open-map"),n=document.querySelector(".modal-content-map"),o=n.querySelector(".modal-content-close");m.addEventListener("click",function(a){a.preventDefault(),p()}),o.addEventListener("click",function(a){a.preventDefault(),q()}),window.addEventListener("keydown",function(a){27===a.keyCode&&n.classList.contains("modal-content-show")&&q()})}();
